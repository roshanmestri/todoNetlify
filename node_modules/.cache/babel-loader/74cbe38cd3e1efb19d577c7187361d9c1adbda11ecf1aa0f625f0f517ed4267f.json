{"ast":null,"code":"import _objectSpread from\"/Users/mac/Desktop/todo-front/todoNetlify/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mac/Desktop/todo-front/todoNetlify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";// import { useNavigate } from 'react-router-dom';\nimport axios from\"axios\";import{useNavigate,Link}from\"react-router-dom\";import{UseTodo}from\"../contexts/TodosContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _UseTodo=UseTodo(),user=_UseTodo.user,SetUser=_UseTodo.SetUser;var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"// login: false,\n// token : \"\"\n}),_useState2=_slicedToArray(_useState,2),LoginState=_useState2[0],setLoginState=_useState2[1];function handler(e){var newData=_objectSpread({},LoginState);newData[e.target.id]=e.target.value;setLoginState(newData);console.log(newData,\"######\");}function Onsubmit(e){e.preventDefault();axios.post(\"http://localhost:8000/api/login\",{email:LoginState.email,password:LoginState.password}).then(function(res){SetUser(res.data.user);console.log(user,\"*****\");});navigate(\"/profile\");}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return Onsubmit(e);},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",id:\"email\",value:LoginState.email,onChange:function onChange(e){return handler(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",value:LoginState.password,onChange:function onChange(e){return handler(e);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"New User ?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create New\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","UseTodo","jsx","_jsx","jsxs","_jsxs","Login","_UseTodo","user","SetUser","navigate","_useState","email","password","_useState2","_slicedToArray","LoginState","setLoginState","handler","e","newData","_objectSpread","target","id","value","console","log","Onsubmit","preventDefault","post","then","res","data","children","onSubmit","className","type","placeholder","onChange","to"],"sources":["/Users/mac/Desktop/todo-front/todoNetlify/src/component/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n// import { useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { UseTodo } from \"../contexts/TodosContext\";\n\nfunction Login() {\n  let { user, SetUser } = UseTodo();\n  const navigate = useNavigate();\n  const [LoginState, setLoginState] = useState({\n    email: \"\",\n    password: \"\",\n    // login: false,\n    // token : \"\"\n  });\n\n  function handler(e) {\n    const newData = { ...LoginState };\n    newData[e.target.id] = e.target.value;\n    setLoginState(newData);\n    console.log(newData, \"######\");\n  }\n\n  function Onsubmit(e) {\n    e.preventDefault();\n    axios\n      .post(\"http://localhost:8000/api/login\", {\n        email: LoginState.email,\n        password: LoginState.password,\n      })\n      .then((res) => {\n        SetUser(res.data.user);\n        console.log(user, \"*****\");\n      });\n\n    navigate(\"/profile\");\n  }\n  return (\n    <div>\n      <form onSubmit={(e) => Onsubmit(e)}>\n        <h3>Sign In</h3>\n\n        <div className=\"mb-3\">\n          <label>Email address</label>\n          <input\n            type=\"email\"\n            placeholder=\"email\"\n            id=\"email\"\n            value={LoginState.email}\n            onChange={(e) => handler(e)}\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            id=\"password\"\n            value={LoginState.password}\n            onChange={(e) => handler(e)}\n          />\n        </div>\n\n        <div className=\"d-grid\">\n          <button type=\"submit\">Submit</button>\n        </div>\n        <span>\n          New User ?<Link to=\"/register\">Create New</Link>\n        </span>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}